CREATE TABLE LOGDB (
	LOGDBID INT PRIMARY KEY,
	QUI VARCHAR2(50),
	IP VARCHAR2(50),
	URL VARCHAR2(250),
	QUAND DATE,
	REQUETE VARCHAR2(4000),
	LATABLE VARCHAR2(100),
	ACTION VARCHAR2(100),
	ID VARCHAR2(100),
	DONNEES VARCHAR2(4000),
	SITE VARCHAR2(50),
	POSTE VARCHAR2(50)
);
COMMIT;

CREATE SEQUENCE SEQ_LOGDB
	START WITH 1
	INCREMENT BY 1
	NOMAXVALUE;

COMMIT;

CREATE TABLE RESIDANT_CTRL(
    RESIDANT_CTRLID INT NOT NULL PRIMARY KEY,
    RESIDANTID VARCHAR2(14) NULL,
    ACTION INT NOT NULL,
    SITEID VARCHAR2(14) NULL,
    SITE VARCHAR2(80) NULL,
    EMETTEUR VARCHAR2(80) NULL,
    DH_POST DATE NOT NULL,
    DH_PROCEED DATE NULL,
    IDENT VARCHAR2(80) NOT NULL,
    STATUT INT NULL,
    TXT_ERR VARCHAR2(80) NULL,
    DEB_VAL DATE NULL,
    FIN_VAL DATE NULL,
    NOM VARCHAR2(40) NULL,
    PRENOM VARCHAR2(40) NULL,
    SOCIETE VARCHAR2(40) NULL,
    CODE_ANTENNE VARCHAR2(40) NULL,
    MATRICULE VARCHAR2(40) NULL,
    ANTI_RETOUR INT NULL,
    CODE_CLASSE INT NULL,
    DATA_01 VARCHAR2(80) NULL,
    DATA_02 VARCHAR2(80) NULL,
    DATA_03 VARCHAR2(80) NULL,
    DATA_04 VARCHAR2(80) NULL,
    DATA_05 VARCHAR2(80) NULL,
    DATA_06 VARCHAR2(80) NULL,
    DATA_07 VARCHAR2(80) NULL,
    DATA_08 VARCHAR2(80) NULL,
    DATA_09 VARCHAR2(80) NULL,
    DATA_10 VARCHAR2(80) NULL,
    ACCES_01 VARCHAR2(4000) NULL,
    ACCES_02 VARCHAR2(4000) NULL,
    ACCES_03 VARCHAR2(4000) NULL,
    ACCES_04 VARCHAR2(4000) NULL,
    ACCES_05 VARCHAR2(4000) NULL,
    ACCES_06 VARCHAR2(4000) NULL,
    ACCES_07 VARCHAR2(4000) NULL,
    ACCES_08 VARCHAR2(4000) NULL,
    ACCES_09 VARCHAR2(4000) NULL,
    ACCES_10 VARCHAR2(4000) NULL
);
COMMIT;

CREATE TABLE RESIDANT_SITE_PROFIL (
	RESIDANTID	VARCHAR2(14),
	SITEID		VARCHAR2(14),
	PROFIL_CTRLID	INTEGER,
	DATECREATION DATE,
	DATEMAJ		DATE,
	DATESYNCHRO	DATE
);
COMMIT;

CREATE TABLE ROI_LOG (
	ROI_LOGID INTEGER,
	QUI VARCHAR2(100),
	QUAND DATE,
	ACTION VARCHAR2(100),
	QUOI VARCHAR2(100),
	BADGE VARCHAR2(100),
	MATRICULE VARCHAR2(100),
	NOM VARCHAR2(100),
	PRENOM VARCHAR2(100),
	SOCIETE VARCHAR2(100),
	SITE  VARCHAR2(100)
);
COMMIT;

ALTER TABLE PROFIL_CTRL ADD PROFILDEFAULT INTEGER DEFAULT 0;
UPDATE PROFIL_CTRL SET PROFILDEFAULT=0;
COMMIT;